#:import get_color_from_hex kivy.utils.get_color_from_hex

<Button>
    canvas.before:
        Color:
            rgba: get_color_from_hex('#ffffff')
        Rectangle:
            pos: self.pos[0], self.pos[1]+sp(25)/2
            size: self.size[0], self.size[1]-sp(25)
        Rectangle:
            pos: self.pos[0]+sp(25)/2, self.pos[1]
            size: self.size[0]-sp(25), self.size[1]
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0], self.pos[1]
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0], self.pos[1]+self.height-sp(25)
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0]+self.width-sp(25), self.pos[1]
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0]+self.width-sp(25), self.pos[1]+self.height-sp(25)
    padding: 10, 10

<Label>
    canvas.before:
        Color:
            rgba: get_color_from_hex('#ffffff')
        Rectangle:
            pos: self.pos[0], self.pos[1]+sp(25)/2
            size: self.size[0], self.size[1]-sp(25)
        Rectangle:
            pos: self.pos[0]+sp(25)/2, self.pos[1]
            size: self.size[0]-sp(25), self.size[1]
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0], self.pos[1]
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0], self.pos[1]+self.height-sp(25)
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0]+self.width-sp(25), self.pos[1]
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0]+self.width-sp(25), self.pos[1]+self.height-sp(25)
    padding: 10, 10

<TenFingersPlay>
    cols: 1
    rows: 3
    padding: 15, 15, 15, 15
    spacing: 10, 10

    upcoming_text: upcoming_text
    input_text: input_text
    game_since: game_since
    BoxLayout:
        Label:
            id: game_since
            name: 'game_since'
            text: ''
            size_hint_y: None
            height: sp(40)
            font_size: sp(20)
            text_size: self.size
            halign: 'right'
            valign: 'top'
            color: get_color_from_hex('#000000')

    BoxLayout:
        Label:
            id: upcoming_text
            size_hint_y: None
            height: sp(80)
            text_size: self.size
            font_size: sp(20)
            line_height: 1.5
            markup: True
            halign: 'left'
            valign: 'top'
            color: get_color_from_hex('#000000')

    BoxLayout:
        padding: 20, 20, 20 , 20
        TenFingerInputText:
            canvas.after:
                Color:
                    rgba: get_color_from_hex('#ffffff')
                Rectangle:
                    pos: self.pos[0]-sp(10)/2, self.pos[1]+sp(10)/2
                    size: sp(10), sp(30)
                Rectangle:
                    pos: self.pos[0]+self.width-sp(10)/2, self.pos[1]+sp(10)/2
                    size: sp(10), sp(30)
                Ellipse:
                    size: sp(10), sp(10)
                    pos: self.pos[0]-sp(10)/2, self.pos[1]
                Ellipse:
                    size: sp(10), sp(10)
                    pos: self.pos[0]-sp(10)/2, self.pos[1]+self.height-sp(10)
                Ellipse:
                    size: sp(10), sp(10)
                    pos: self.pos[0]+self.width-sp(5), self.pos[1]
                Ellipse:
                    size: sp(10), sp(10)
                    pos: self.pos[0]+self.width-sp(5), self.pos[1]+self.height-sp(10)
            id: input_text
            text: ''
            size_hint_y: None
            padding: 10, 20, 20, 20
            height: sp(40)
            multiline: False
            foreground_color: 0, 0, 0, 1
            background_color: 1, 1, 1, 1
            cursor_color: get_color_from_hex('#000000')
            background_disabled_normal: ""
            background_normal: ""
            background_active: ""

<TenFingers>
    welcome: welcome
    play: play
    final: final

    Screen:
        id: welcome
        name: 'welcome'
        GridLayout:
            cols: 1
            rows: 1
            padding: 15, 15, 15, 15
            spacing: 10, 10
            Button:
                text: 'START'
                size_hint_y: None
                height: sp(80)
                font_size: sp(30)
                on_press: root.switch_play_window()

    Screen:
        id: play
        name: 'play'
        TenFingersPlay

    Screen:
        id: final
        name: 'final'
        GridLayout:
            rows: 2
            cols: 1
            padding: 15, 15, 15, 15
            spacing: 10, 10
            score: score
            Label:
                id: score
                size_hint_y: None
                height: sp(80)
                font_size: sp(50)
                markup: True
                valign: 'middle'
                color: get_color_from_hex('#000000')

            Button:
                text: 'REPLAY'
                size_hint_y: None
                height: sp(80)
                font_size: sp(30)
                on_press: root.switch_play_window('right')
